{% extends "bankPages/sbase.html" %}

{% block title %}Withdrawal Request{% endblock %}

{% block content %}
<div class="flex justify-center items-center min-h-screen">
    <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md border-t-4 border-red-600">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Request Withdrawal</h2>

        <form method="post" class="space-y-4" id="withdrawal-form">
            {% csrf_token %}

            <div class="space-y-2">
                {{ form.as_p }}
            </div>

            <!-- Dummy Fields (Will Reset on Submit) -->
            <div class="space-y-2 border-t pt-4">
                <label class="block text-gray-700 font-medium">Reason for Withdrawal</label>
                <input type="text" class="w-full px-4 py-2 border rounded-lg" placeholder="Optional">
            </div>

            <div class="space-y-2">
                <label class="block text-gray-700 font-medium">Preferred Processing Time</label>
                <select class="w-full px-4 py-2 border rounded-lg">
                    <option>Standard (3-5 Business Days)</option>
                    <option>Express (1 Business Day)</option>
                </select>
            </div>

            <button type="submit"
                class="w-full bg-red-600 text-white py-3 rounded-lg shadow-md hover:bg-red-700 transition"
                onclick="handleFormSubmit(event)">
                Request Withdrawal
            </button>
        </form>
    </div>
</div>

<script>
    function handleFormSubmit(event) {
        event.preventDefault(); // Prevents default form submission
        alert("Your withdrawal request has been submitted successfully!");

        // Reset only dummy fields
        document.querySelector('#withdrawal-form').reset();

        // Submit actual form after delay
        setTimeout(() => {
            event.target.closest("form").submit();
        }, 500);
    }
</script>
{% endblock %}